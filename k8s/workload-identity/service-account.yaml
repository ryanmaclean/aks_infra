apiVersion: v1
kind: ServiceAccount
metadata:
  name: workload-identity-sa
  namespace: workload-identity-test
  annotations:
    # This annotation tells Azure Workload Identity which managed identity to use
    # Replace <CLIENT_ID> with the actual client ID from Terraform output:
    # terraform output workload_identity_client_id
    azure.workload.identity/client-id: "${WORKLOAD_IDENTITY_CLIENT_ID}"
  labels:
    # Required label for Azure Workload Identity webhook
    azure.workload.identity/use: "true"
